---
layout: post
title:  "[Data Structure] AVL tree"
date:   2022-04-21 18:00:00 +0900
categories: DataStructure
---

ì´ì§„ê²€ìƒ‰íŠ¸ë¦¬ëŠ” ì €ì¥ê³¼ ê²€ìƒ‰ì— í‰ê· Â Î˜(log n)ì‹œê°„ì´ ì†Œìš”ë˜ì§€ë§Œ ìš´ì´ ë‚˜ì˜ë©´ íŠ¸ë¦¬ì˜ ëª¨ì–‘ì´ ê· í˜•ì„ ì˜ ì´ë£¨ì§€ ëª»í•œë‹¤. ê· í˜•ì´ ë§ì´ ê¹¨ì§€ë©´Â Î˜(n)ì— ê·¼ì ‘í•œ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ë„ ìˆë‹¤. ê·¸ë˜ì„œ ê³ ì•ˆí•´ ë‚¸ ê²ƒì´ **ê· í˜•ì¡íŒ ì´ì§„ê²€ìƒ‰íŠ¸ë¦¬(Balanced Binary Search Tree)**ì´ë‹¤. ê· í˜•ì¡íŒ ì´ì§„ê²€ìƒ‰íŠ¸ë¦¬ëŠ” ìµœì•…ì˜ ê²½ìš°ì—ë„ ì´ì§„íŠ¸ë¦¬ì˜ ê· í˜•ì´ ì˜ ë§ë„ë¡ ìœ ì§€í•œë‹¤. ê· í˜•ì¡íŒ ì´ì§„ê²€ìƒ‰íŠ¸ë¦¬ë¡œ ëŒ€í‘œì ì¸ ê²ƒì€ **AVLíŠ¸ë¦¬**ì™€ **ë ˆë“œë¸”ë™íŠ¸ë¦¬**ë‹¤.

<br>

# **AVL Tree**

> Adelson-Velsky and Landis Tree
> 

---

ê·¹ë‹¨ì ìœ¼ë¡œëŠ” nê°œì˜ ë…¸ë“œê°€ í¬ê¸° ìˆœìœ¼ë¡œ ì¼ë ¬ë¡œ ëŠ˜ì–´ëœ¨ë ¤ì ¸ ë†’ì´ ë˜í•œ nì´ ë˜ëŠ” ê²½ìš°ë„ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì— í•´ë‹¹ëœë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì˜ ê³„ì‚°ë³µì¡ì„±ì€ O(n)ì´ ë˜ëŠ”ë°, ì´ê²ƒìœ¼ë¡œëŠ” íƒìƒ‰ ì†ë„ê°€ O(logn)ìœ¼ë¡œ ë¹ ë¥¸ ì´ì§„ íƒìƒ‰ì„ ê³„ìŠ¹í–ˆë‹¤ê³  ë³´ê¸° ì–´ë µë‹¤.

ì´ì§„ íŠ¸ë¦¬ì˜ ë†’ì´ê°€ í•­ìƒ O(log n)ì´ë©´, íƒìƒ‰ íŠ¸ë¦¬ ê¸°ëŠ¥ì— ëŒ€í•´ O(log n)ì˜ ì„±ëŠ¥ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.

Worst-caseì˜ ë†’ì´ê°€ O(log n)ì¸ íŠ¸ë¦¬ë¥¼ balanced treeë¼ê³  í•œë‹¤. balanced treeì˜ ì˜ˆë¡œ ì´ì§„íƒìƒ‰íŠ¸ë¦¬ì˜ ì¼ì¢…ì¸ AVL Treeê°€ ìˆë‹¤.

<br>

## 1. AVL Tree

---

- ì´ì§„íŠ¸ë¦¬
- ë§Œì•½ Tê°€ ì™¼ìª½, ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ TLê³¼ TRì„ ê°€ì§„ ë¹„ì–´ìˆì§€ ì•Šì€ ì´ì§„ íŠ¸ë¦¬ë¼ë©´, TëŠ” AVLíŠ¸ë¦¬ì´ë‹¤.
    - TLê³¼ TRì€ AVL íŠ¸ë¦¬ì´ë©°,
    - hLê³¼ hRì€ ê°ê° TLê³¼ TRì˜ ë†’ì´ì¼ ë–„, ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•œë‹¤.
        
        ![Untitled](https://user-images.githubusercontent.com/100582309/165078428-c0bffb4e-fade-48c1-831f-5449b599e038.png)


<br>

## 2. AVL Search Tree

---

**AVL Search Tree**ëŠ” AVLíŠ¸ë¦¬ì´ê¸°ë„ í•œ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì´ë‹¤.


| ![Untitled 1](https://user-images.githubusercontent.com/100582309/165078435-09475448-d790-4611-b2f7-2adfc90791ba.png) | 
|:--:| 
|AVL íŠ¸ë¦¬ : (a), (b) /  AVL search tree : (b)|


<br>

## **AVL Treeì˜ íŠ¹ì§•**

---

- ë…¸ë“œê°€ nê°œì¸ AVL íŠ¸ë¦¬ì˜ ë†’ì´ëŠ” O(log n)ì´ë‹¤.
- ëª¨ë“  nì˜ ê°’ì— ëŒ€í•˜ì—¬ n â‰¥ 0ì´ë©´ AVL íŠ¸ë¦¬ê°€ ì¡´ì¬í•œë‹¤.
- ë…¸ë“œê°€ nê°œì¸ AVL Search TreeëŠ” O(height)=O(log n)ì‹œê°„ì— íƒìƒ‰í•  ìˆ˜ ìˆë‹¤.
- ë…¸ë“œê°€ nê°œì¸ AVL Search Treeì— ìƒˆ ë…¸ë“œë¥¼ ì‚½ì…í•˜ì—¬ n+1ê°œ ë…¸ë“œì˜ AVL íŠ¸ë¦¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , ì´ ë•Œì˜ ì‚½ì…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì€ O(log n)ì´ë‹¤.
- n>0, ë…¸ë“œê°€ nê°œì¸ AVL Search Treeì—ì„œ ë…¸ë“œë¥¼ ì‚­ì œí•˜ë©´ ë…¸ë“œê°€ n-1ê°œì¸ AVL íŠ¸ë¦¬ê°€ ë˜ê³ , ì‚­ì œì— ê±¸ë¦¬ëŠ” ì‹œê°„ì€ O(log n)ì´ë‹¤.

<br>

## **Balance Factor**

>ê· í˜• ì¸ìˆ˜


---

- AVL treeëŠ” ì¼ë°˜ì ìœ¼ë¡œ linked representationì„ ì‚¬ìš©í•˜ì—¬ í‘œí˜„í•œë‹¤.
- ì‚½ì… ë° ì‚­ì œë¥¼ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•´ **ê· í˜•ì¸ìˆ˜**(**balance factor)**ê°€ ê° ë…¸ë“œì— ì—°ê²°ëœë‹¤.
- ë…¸ë“œ xì˜ ê· í˜• ì¸ìˆ˜ì¸ **bf(x)**ëŠ” **height(xâ†’leftChild)** â€“ **height(xâ†’rightChild)**ë¡œ ì •ì˜ëœë‹¤.
- AVL íŠ¸ë¦¬ì—ì„œ ê° ë…¸ë“œì˜ ê· í˜• ê³„ìˆ˜ëŠ” -**1ì´ë‚˜ 0ì´ë‚˜ 1**ì´ì–´ì•¼ í•œë‹¤.


| ![ì œëª©_dd](https://user-images.githubusercontent.com/100582309/165078431-3c005f15-54ad-4ab8-bc01-565138ff22a0.png) | 
|:--:| 
|AVL (Search) Tree with Balance Factor|

<br>

# **AVL Search Treeì˜ í™œìš©**

---

<br>

# **íƒìƒ‰**

---

ì¼ë°˜ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì˜ íƒìƒ‰ ì—°ì‚°ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.

- ì‹œê°„ ë³µì¡ë„ : O(log n)

<br>

# ğŸ“Œ **ì‚½ì…**

---

AVL íƒìƒ‰ íŠ¸ë¦¬ì— ìš”ì†Œë¥¼ ì‚½ì…í•˜ë‹¤ë³´ë©´ íŠ¸ë¦¬ì˜ ê· í˜•ì´ ë§ì§€ ì•Šì•„ AVLíŠ¸ë¦¬ê°€ ì•„ë‹ˆê²Œ ë  ìˆ˜ë„ ìˆë‹¤. ì´ë ‡ë“¯ íŠ¸ë¦¬ê°€ ë¶ˆê· í˜• ìƒíƒœê°€ ë˜ë©´ ê· í˜•ì„ íšŒë³µí•˜ê¸° ìœ„í•´ íŠ¸ë¦¬ë¥¼ ì¡°ì •í•´ì•¼ í•œë‹¤. ì´ ì¡°ì •ì„ íšŒì „(rotation)ì´ë¼ê³  í•œë‹¤.         

| ![ì œëª©_ì—†ìŒdd](https://user-images.githubusercontent.com/100582309/165078433-88599867-f899-4a9f-a45a-b91f67512439.png) | 
|:--:| 
|Inserting into an AVL Search Tree|


<br>

## **Imbalance Types**

ì‚½ì… í›„, ë…¸ë“œ Aì˜ ê· í˜• ì¸ìˆ˜ê°€ -2 ë˜ëŠ” 2ì¼ ë•Œ, ë…¸ë“œ AëŠ” ë‹¤ìŒ ë„¤ ê°€ì§€ ë¶ˆê· í˜• ìœ í˜• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

1) **LL** : ìƒˆ ë…¸ë“œê°€ Aì˜ ì™¼ìª½ í•˜ìœ„ íŠ¸ë¦¬ì˜ ì™¼ìª½ í•˜ìœ„ íŠ¸ë¦¬ì— ìˆìŠµë‹ˆë‹¤.
    
    <figure class="half">
        <img src="https://user-images.githubusercontent.com/100582309/165078438-01eddbc9-6f6f-4d9b-be30-bfe778ca0c7c.png" height="300"/>
        <img src="https://user-images.githubusercontent.com/100582309/165078441-abbd6c57-950e-4d90-9f09-22dd2d986834.png" height="300"/>
    <figure>

2) **LR** : ìƒˆ ë…¸ë“œê°€ Aì˜ ì™¼ìª½ í•˜ìœ„ íŠ¸ë¦¬ì˜ ì˜¤ë¥¸ìª½ í•˜ìœ„ íŠ¸ë¦¬ì— ìˆìŠµë‹ˆë‹¤.

3) **RR** : ìƒˆ ë…¸ë“œê°€ Aì˜ ì˜¤ë¥¸ìª½ í•˜ìœ„ íŠ¸ë¦¬ì˜ ì˜¤ë¥¸ìª½ í•˜ìœ„ íŠ¸ë¦¬ì— ìˆìŠµë‹ˆë‹¤.

4) **RL** : ìƒˆ ë…¸ë“œê°€ Aì˜ ì˜¤ë¥¸ìª½ í•˜ìœ„ íŠ¸ë¦¬ì˜ ì™¼ìª½ í•˜ìœ„ íŠ¸ë¦¬ì— ìˆìŠµë‹ˆë‹¤.

- (ì‚½ì… í›„) ë¶ˆê· í˜• AVL íŠ¸ë¦¬ì˜ ê· í˜•ì„ ë§ì¶”ê¸° ìœ„í•´ **LL, RR, LR, RL** íšŒì „ ì¤‘ í•˜ë‚˜ë¥¼ ìˆ˜í–‰í•œë‹¤.

<br>

## **Single Rotation**

ì¼ë°˜ì ì¸ ê²½ìš°ì˜ single rotationì€ ë…¸ë“œAì™€ Bì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ì–´ ì£¼ê³  ì„œë¸Œ íŠ¸ë¦¬ë“¤ì„ ì •ë¦¬í•˜ë©´ ê· í˜• íŠ¸ë¦¬ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

![Untitled 4](https://user-images.githubusercontent.com/100582309/165078395-3de3ad0f-37a4-4893-a537-f603c38e45ed.png)


<br>

- **LL Rotation**

    ë£¨íŠ¸ë…¸ë“œë¥¼ ìì‹ë…¸ë“œì˜ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ ë¶™ì´ë©´ ëœë‹¤. ì˜¤ë¥¸ìª½ìœ¼ë¡œ íšŒì „ì‹œí‚¤ëŠ”Â ëª¨ì–‘ì´ë‹¤. ìì‹ë…¸ë“œì— ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ëŠ” ë£¨íŠ¸ë…¸ë“œì˜ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ì—Â ì—°ê²°ì‹œí‚¨ë‹¤.
    ![Untitled 5](https://user-images.githubusercontent.com/100582309/165078402-02b544bc-74eb-4c63-a36a-6461c01d0e48.png)

    
- **RR Rotation**

    ë£¨íŠ¸ë…¸ë“œë¥¼ ìì‹ë…¸ë“œì˜ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ ë¶™ì´ë©´ ëœë‹¤. ì™¼ìª½ìœ¼ë¡œÂ íšŒì „ì‹œí‚¤ëŠ” ëª¨ì–‘ì´ë‹¤. ìì‹ë…¸ë“œì— ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ì´ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¥¼ ë£¨íŠ¸ ë…¸ë“œì˜ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¡œ ë§Œë“ ë‹¤.

    ![Untitled 6](https://user-images.githubusercontent.com/100582309/165078405-e49d430d-3168-4969-bafe-70666a188549.png)

<br>

## **Double Rotation**

![Untitled 7](https://user-images.githubusercontent.com/100582309/165078408-401ec39f-6b43-4279-af5d-aca8de3dc9be.png)

- **LR Rotation**
    
     : ë¶€ë¶„ì  RRíšŒì „ì— ì´ì–´ì„œ LLíšŒì „
    
    ![Untitled 8](https://user-images.githubusercontent.com/100582309/165078409-2f65ac25-00bc-498e-8f23-14f47f8f0b86.png)

    
    ![Untitled 9](https://user-images.githubusercontent.com/100582309/165078411-3ead0601-fabd-43f8-b582-2f8672e8ff27.png)

    
    ![Untitled 10](https://user-images.githubusercontent.com/100582309/165078414-c5e12bb1-1c92-4668-85f7-30e29cbf8156.png)

    
- **RL Rotation**
    
    : ë¶€ë¶„ì  LLíšŒì „ì— ì´ì–´ì„œ RRíšŒì „
    
    ![Untitled 11](https://user-images.githubusercontent.com/100582309/165078417-e15b2525-4a83-44c5-ba10-64f55b98c526.png)

    
    ![Untitled 12](https://user-images.githubusercontent.com/100582309/165078418-0e178a40-b5ee-4396-a758-dc319a71b316.png)

    
    ![Untitled 13](https://user-images.githubusercontent.com/100582309/165078419-50185198-2730-4d1b-93d3-c048aad6f8d2.png)

    

<br>

## ğŸ“Œ **ì‚­ì œ**

---

- ì‚½ì…ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ë…¸ë“œë¥¼ ì‚­ì œí•´ë„ ë¶ˆê· í˜•ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ì‚­ì œë¡œ ì¸í•œ ê· í˜• ì¬ì¡°ì •ì—ë„ **íšŒì „(Rotation)**ì´ í•„ìš”í•˜ë‹¤
- ì‚­ì œë¡œ ì¸í•œ ë¶ˆê· í˜•ì€ **R0, R1, R-1, L0, L1, L-1**ë¡œ ë¶„ë¥˜ëœë‹¤.
    - **R0 Rotation**
        
        ![Untitled 14](https://user-images.githubusercontent.com/100582309/165078421-9792846a-41e5-470b-baa5-3ade761f63a4.png)

        
    - **R1 Rotation**
        
        ![Untitled 15](https://user-images.githubusercontent.com/100582309/165078424-d05a3e67-5a69-4a11-acb0-96ed3cd0ee04.png)

        
    - **R-1 Rotation**
        
        ![Untitled 16](https://user-images.githubusercontent.com/100582309/165078427-b30338bf-00ad-4223-8c04-08f6f09da809.png)

        

<br>

- ì°¸ê³ ìë£Œ
    - [https://designatedroom87.tistory.com/17](https://designatedroom87.tistory.com/17)
    - [https://slidesplayer.org/slide/16283436/](https://slidesplayer.org/slide/16283436/)
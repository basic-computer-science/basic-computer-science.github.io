---
layout: post
title:  "[Algorithm] Elementary Graph Algorithms -BFS, DFS, DAG, Strongly Connected Components"
categories: Algorithm
---

# Elementary Graph Algorithms -BFS, DFS, DAG, Strongly Connected Components

## κ·Έλν”„ νƒμƒ‰

- ν•λ‚μ μ •μ μΌλ΅λ¶€ν„° μ‹μ‘ν•μ—¬ μ°¨λ΅€λ€λ΅ λ¨λ“  μ •μ λ“¤μ„ ν•λ‚μ”© λ°©λ¬Έν•λ” κ²ƒ

![Untitled](/public/img/Algorithm/Elementary/Untitled.png)

β†’ BFS : A - B - C - H - D - I - J - M - E - G - K - F - L

β†’ DFS : A - B- C - D - E - F - G - H - I - J - K - L - M

```python
graph = {
    'A': ['B'],
    'B': ['A', 'C', 'H'],
    'C': ['B', 'D'],
    'D': ['C', 'E', 'G'],
    'E': ['D', 'F'],
    'F': ['E'],
    'G': ['D'],
    'H': ['B', 'I', 'J', 'M'],
    'I': ['H'],
    'J': ['H', 'K'],
    'K': ['J', 'L'],
    'L': ['K'],
    'M': ['H']
}
```

## Breadth-First Search (λ„λΉ„ μ°μ„  νƒμƒ‰)

- λ£¨νΈλ…Έλ“μ—μ„ μ‹μ‘ν•΄μ„ μΈμ ‘ν• λ…Έλ“λ¥Ό λ¨Όμ € νƒμƒ‰ν•λ” λ°©λ²•
- μ‹μ‘ μ •μ μΌλ΅λ¶€ν„° κ°€κΉμ΄ μ •μ μ„ λ¨Όμ € λ°©λ¬Έν•κ³  λ©€λ¦¬ λ–¨μ–΄μ Έ μλ” μ •μ μ„ λ‚μ¤‘μ— λ°©λ¬Έν•λ” μν λ°©λ²•
- κΉκ² νƒμƒ‰ν•κΈ° μ „μ— λ„“κ² νƒμƒ‰ν•λ” λ°©λ²•
- λ‘ λ…Έλ“ μ‚¬μ΄μ μµλ‹¨ κ²½λ΅ νΉμ€ μ„μμ κ²½λ΅λ¥Ό μ°Ύκ³  μ‹¶μ„ λ• μ΄ λ°©λ²•μ„ μ„ νƒ


π’΅ <λ…Έλ“ λ°©λ¬Έ μμ„>

L0 = {S}   #Sλ” μ¶λ°λ…Έλ“

β†’ L1 = L0μ λ¨λ“  μ΄μ›ƒλ…Έλ“λ“¤

β†’ L2 = L1μ μ΄μ›ƒλ“¤ μ¤‘ L0μ— μ†ν•μ§€ μ•λ” λ…Έλ“λ“¤

... β†’ Li = L(i-1)μ μ΄μ›ƒλ“¤ μ¤‘ L(i-2)μ— μ†ν•μ§€ μ•λ” λ…Έλ“λ“¤

β‡’ κΉμ΄κ°€ 1μΈ λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•κ³  λ‚μ„ κ·Έ λ‹¤μμ—λ” κΉμ΄κ°€ 2μΈ λ¨λ“  λ…Έλ“λ¥Ό, κ·Έ λ‹¤μμ—λ” κΉμ΄κ°€ 3μΈ λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•λ” μ‹μΌλ΅ κ³„μ† λ°©λ¬Έν•λ‹¤κ°€ λ” μ΄μƒ λ°©λ¬Έν•  κ³³μ΄ μ—†μΌλ©΄ νƒμƒ‰μ„ λ§μΉλ‹¤


- νΉμ§•
    - μ¬κ·€μ μΌλ΅ λ™μ‘ν•μ§€ μ•λ”λ‹¤.
    - μ–΄λ–¤ λ…Έλ“λ¥Ό λ°©λ¬Έν–μ—λ”μ§€ μ—¬λ¶€λ¥Ό λ°λ“μ‹ κ²€μ‚¬ ν•΄μ•Ό ν•λ‹¤
    - BFSλ” λ°©λ¬Έν• λ…Έλ“λ“¤μ„ μ°¨λ΅€λ΅ μ €μ¥ν• ν›„ κΊΌλ‚Ό μ μλ” μλ£ κµ¬μ΅°μΈ ν(Queue)λ¥Ό μ‚¬μ©ν•λ‹¤
        - μ„ μ…μ„ μ¶(FIFO) μ›μΉ™μΌλ΅ νƒμƒ‰
        - νλ¥Ό μ΄μ©ν•΄μ„ λ°λ³µμ  ν•νƒλ΅ κµ¬ν„ν•λ” κ²ƒμ΄ κ°€μ¥ μ λ™μ‘ν•λ‹¤.

π”»Python κµ¬ν„

```python
def bfs(graph, start_node):
	visit = list() #λ°©λ¬Έν–λ λ…Έλ“λ“¤μ„ μ°¨λ΅€λ€λ΅ μ €μ¥ν•  λ¦¬μ¤νΈ
	queue = list() #λ‹¤μμΌλ΅ λ°©λ¬Έν•  λ…Έλ“μ λ©λ΅
	
	queue.append(start_node) #μ‹μ‘λ…Έλ“λ¥Ό νμ— λ„£μ–΄μ¤€λ‹¤.

	while queue: #νμ λ©λ΅μ΄ λ°”λ‹¥λ‚  λ•κΉμ§€(λ”μ΄μƒ λ°©λ¬Έν•  λ…Έλ“κ°€ μ—†μ„ λ•κΉμ§€) loopλ¥Ό λλ ¤μ¤€λ‹¤.
		node = queue.pop(0) #νμ λ§¨μ•μ—μλ” λ…Έλ“λ¥Ό κΊΌλ‚΄μ¨λ‹¤.
		if node not in visit: #ν•΄λ‹Ήλ…Έλ“κ°€ μ•„μ§ λ°©λ¬Έλ¦¬μ¤νΈμ— μ—†λ‹¤λ©΄
			visit.append(node) #λ°©λ¬Έλ¦¬μ¤νΈμ— μ¶”κ°€ν•΄μ£Όκ³ 
			queue.extend(graph[node]) #ν•΄λ‹Ή λ…Έλ“μ μμ‹ λ…Έλ“λ“¤μ„ νμ— μ¶”κ°€ν•λ‹¤.

	return visit
```

## Depth-First Search (κΉμ΄ μ°μ„  νƒμƒ‰)

- λ£¨νΈ λ…Έλ“(νΉμ€ λ‹¤λ¥Έ μ„μμ λ…Έλ“)μ—μ„ μ‹μ‘ν•΄μ„ λ‹¤μ λ¶„κΈ°(branch)λ΅ λ„μ–΄κ°€κΈ° μ „μ— ν•΄λ‹Ή λ¶„κΈ°λ¥Ό μ™„λ²½ν•κ² νƒμƒ‰ν•λ” λ°©λ²•
- λ―Έλ΅λ¥Ό νƒμƒ‰ν•  λ• ν• λ°©ν–¥μΌλ΅ κ° μ μμ„ λ•κΉμ§€ κ³„μ† κ°€λ‹¤κ°€ λ” μ΄μƒ κ° μ μ—†κ² λλ©΄ λ‹¤μ‹ κ°€μ¥ κ°€κΉμ΄ κ°λ¦ΌκΈΈλ΅ λμ•„μ™€μ„ μ΄κ³³μΌλ΅λ¶€ν„° λ‹¤λ¥Έ λ°©ν–¥μΌλ΅ λ‹¤μ‹ νƒμƒ‰μ„ μ§„ν–‰ν•λ” λ°©λ²•κ³Ό μ μ‚¬ν•λ‹¤
- λ„“κ² νƒμƒ‰ν•κΈ° μ „μ— κΉκ² νƒμƒ‰ν•λ” λ°©λ²•
- λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•κ³ μ ν•λ” κ²½μ°μ— μ΄ λ°©λ²•μ„ μ„ νƒν•λ‹¤.
- DFSκ°€ BFSλ³΄λ‹¤ μΆ€ λ” κ°„λ‹¨ν•λ‹¤.
- λ‹¨μ κ²€μƒ‰ μ†λ„λ” BFSμ— λΉ„ν•΄μ„ λλ¦¬λ‹¤.


π’΅ <λ…Έλ“ λ°©λ¬Έ μμ„>
μ¶λ°μ  Sμ—μ„ μ‹μ‘
β†’ ν„μ¬ λ…Έλ“λ¥Ό visitedλ΅ mark ν•κ³ , μΈμ ‘ λ…Έλ“λ“¤ μ¤‘ unvisited λ…Έλ“κ°€ μμΌλ©΄ κ·Έ λ…Έλ“λ΅ κ°„λ‹¤.
β†’ λ°λ³µ
β†’ μΈμ ‘ν• λ…Έλ“λ“¤ μ¤‘ unvisited λ…Έλ“κ°€ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ° unvisitedμΈ μ΄μ›ƒλ…Έλ“κ°€ μ΅΄μ¬ν•μ§€ μ•λ” λ™μ• κ³„μ†ν•΄μ„ μ§μ „λ…Έλ“λ΅ λλμ•„κ°„λ‹¤.
β†’ λ‹¤μ‹ λ°λ³µ
β†’ μ‹μ‘λ…Έλ“ Sλ΅ λμ•„μ¤κ³  λ” μ΄μƒ κ° κ³³μ΄ μ—†μΌλ©΄ μΆ…λ£


- νΉμ§•
    - μκΈ° μμ‹ μ„ νΈμ¶ν•λ” μν™ μ•κ³ λ¦¬μ¦μ ν•νƒλ¥Ό κ°€μ§€κ³  μλ‹¤.
    - μ „μ„ μνλ¥Ό ν¬ν•¨ν• λ‹¤λ¥Έ ν•νƒμ νΈλ¦¬ μνλ” λ¨λ‘ DFSμ ν• μΆ…λ¥μ΄λ‹¤.
    - μ΄ μ•κ³ λ¦¬μ¦μ„ κµ¬ν„ν•  λ• κ°€μ¥ ν° μ°¨μ΄μ μ€, κ·Έλν”„ νƒμƒ‰μ κ²½μ° μ–΄λ–¤ λ…Έλ“λ¥Ό λ°©λ¬Έν–μ—λ”μ§€ μ—¬λ¶€λ¥Ό λ°λ“μ‹ κ²€μ‚¬ ν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤
        - μ΄λ¥Ό κ²€μ‚¬ν•μ§€ μ•μΌλ©΄ λ¬΄ν• λ£¨ν”„μ— λΉ μ§ μ„ν—μ΄ μλ‹¤.

π”»Python κµ¬ν„

β†’ queueλ€μ‹  stackμ„ μ‚¬μ©ν•λ‹¤.

```python
def dfs(graph, start_node):
	visit=list()
	stack=list()
	
	stack.append(start_node)
	
	while stack:
		node=stack.pop()
		if node not in visit:
			visit.append(node)
			stack.extend(graph[node])

	return visit
```

- μ‹κ°„ λ³µμ΅λ„
    - N: μ •μ μ μ, E: κ°„μ„ μ μ)
        - μΈμ ‘ λ¦¬μ¤νΈλ΅ ν‘ν„λ κ·Έλν”„ : O(N+E)
        - μΈμ ‘ ν–‰λ ¬λ΅ ν‘ν„λ κ·Έλν”„ : O(N^2)
    - κ·Έλν”„ λ‚΄μ— μ μ€ μ«μμ κ°„μ„ λ§μ„ κ°€μ§€λ” ν¬μ†κ·Έλν”„μ κ²½μ° μΈμ ‘ ν–‰λ ¬λ³΄λ‹¤ μΈμ ‘ λ¦¬μ¤νΈλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ λ¦¬ν•λ‹¤.

*μ°Έκ³ : [https://suyeon96.tistory.com/32](https://suyeon96.tistory.com/32)

![Untitled](/public/img/Algorithm/Elementary/Untitled1.png)

## Topological Sorting (μ„μƒ μ •λ ¬)

- μ–΄λ–¤ μΌμ„ ν•λ” μμ„λ¥Ό μ°Ύλ” μ•κ³ λ¦¬μ¦
    - λ°©ν–¥ κ·Έλν”„μ— μ΅΄μ¬ν•λ” κ° μ •μ λ“¤μ μ„ ν–‰ μμ„λ¥Ό μ„λ°°ν•μ§€ μ•μΌλ©΄μ„ λ¨λ“  μ •μ μ„ λ‚μ—΄ν•λ” κ²ƒ
- μ…λ ¥: Edgeμ— λ°©ν–¥μ΄ μμΌλ©΄μ„ μν™λμ§€ μ•λ” κ·Έλν”„
    - = Directed Acyclic Geaph (DAG)


π’΅ 1. μ§„μ… μ°¨μκ°€ 0μΈ μ •μ (μ¦‰, λ“¤μ–΄μ¤λ” κ°„μ„ μ μκ°€ 0)μ„ μ„ νƒ
- μ§„μ… μ°¨μκ°€ 0μΈ μ •μ μ΄ μ—¬λ¬ κ° μ΅΄μ¬ν•  κ²½μ° μ–΄λ μ •μ μ„ μ„ νƒν•΄λ„ λ¬΄λ°©ν•λ‹¤.
- μ΄κΈ°μ— κ°„μ„ μ μκ°€ 0μΈ λ¨λ“  μ •μ μ„ νμ— μ‚½μ…
2. μ„ νƒλ μ •μ κ³Ό μ—¬κΈ°μ— λ¶€μ†λ λ¨λ“  κ°„μ„ μ„ μ‚­μ 
- μ„ νƒλ μ •μ μ„ νμ—μ„ μ‚­μ 
- μ„ νƒλ μ •μ μ— λ¶€μ†λ λ¨λ“  κ°„μ„ μ— λ€ν•΄ κ°„μ„ μ μλ¥Ό κ°μ†
3. μ„μ κ³Όμ •μ„ λ°λ³µν•΄μ„ λ¨λ“  μ •μ μ΄ μ„ νƒ, μ‚­μ λλ©΄ μ•κ³ λ¦¬μ¦ μΆ…λ£


![Untitled](/public/img/Algorithm/Elementary/Untitled2.png)

## Strongly Connected Components (κ°•ν• κ²°ν•© μ”μ†)

- κ·Έλν”„ μ•μ—μ„ κ°•ν•κ² κ²°ν•©λ μ •μ  μ§‘ν•©
- κ°™μ€ SCCμ— μ†ν•λ” λ‘ μ •μ μ€ μ„λ΅ λ„λ‹¬μ΄ κ°€λ¥ν•λ‹¤.
- μ‚¬μ΄ν΄μ΄ λ°μƒν•λ” κ²½μ° λ¬΄μ΅°κ±΄ SCCμ— ν•΄λ‹Ήν•λ‹¤.

![Untitled](/public/img/Algorithm/Elementary/Untitled3.png)

[μ¶μ²]

[https://gmlwjd9405.github.io/2018/08/15/algorithm-bfs.html](https://gmlwjd9405.github.io/2018/08/15/algorithm-bfs.html) [https://gmlwjd9405.github.io/2018/08/14/algorithm-dfs.html](https://gmlwjd9405.github.io/2018/08/14/algorithm-dfs.html)

[https://itholic.github.io/python-bfs-dfs/](https://itholic.github.io/python-bfs-dfs/)

[https://gmlwjd9405.github.io/2018/08/27/algorithm-topological-sort.html](https://gmlwjd9405.github.io/2018/08/27/algorithm-topological-sort.html)

[https://blog.naver.com/ndb796/221236952158](https://blog.naver.com/ndb796/221236952158)